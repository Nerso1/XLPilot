<UserControl x:Class="XLPilot.UserControls.PilotButton"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="100" d:DesignWidth="100">
    <UserControl.Resources>
        <Style TargetType="Button" x:Key="PilotButtonStyle">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="Padding" Value="10" />
            <Setter Property="FontSize" Value="16" />
            <Setter Property="Margin" Value="2,2,2,2" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <!-- Border to encompass the entire control -->
                        <Border x:Name="MainBorder" 
                                Background="White"
                                CornerRadius="4">
                            <!-- StackPanel for image and text -->
                            <Grid>
                                <StackPanel x:Name="TilePanel" 
                                          HorizontalAlignment="Center" 
                                          VerticalAlignment="Center">
                                    <!-- Image -->
                                    <Image x:Name="ButtonImage"
                                           Source="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=ImageSource}"
                                           Stretch="Uniform"
                                           Width="60" Height="60" />
                                    <!-- TextBlock -->
                                    <TextBlock x:Name="ButtonTextBlock"
                                               Text="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=ButtonText}"
                                               Foreground="Black"
                                               FontSize="12"
                                               TextAlignment="Center"
                                               Margin="0,5,0,0" />
                                </StackPanel>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <!-- Hover effect: Apply shadow to entire border, scale image, and enhance text -->
                            <Trigger Property="IsMouseOver" Value="True">
                                <!-- Shadow for the entire control -->
                                <Setter TargetName="MainBorder" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.5" />
                                    </Setter.Value>
                                </Setter>

                                <!-- Image animation -->
                                <Setter TargetName="ButtonImage" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.1" ScaleY="1.1" />
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="ButtonImage" Property="RenderTransformOrigin" Value="0.5,0.5" />

                                <!-- Text animation -->
                                <!--<Setter TargetName="ButtonTextBlock" Property="FontSize" Value="14" />-->
                                <Setter TargetName="ButtonTextBlock" Property="FontWeight" Value="Bold" />
                                <!--<Setter TargetName="ButtonTextBlock" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect BlurRadius="2" ShadowDepth="1" Opacity="0.3" />
                                    </Setter.Value>
                                </Setter>-->
                            </Trigger>

                            <!-- Click effect: Remove effects and return elements to original size -->
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="MainBorder" Property="Effect" Value="{x:Null}" />
                                <Setter TargetName="ButtonImage" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1" ScaleY="1" />
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="ButtonTextBlock" Property="FontSize" Value="12" />
                                <Setter TargetName="ButtonTextBlock" Property="FontWeight" Value="Normal" />
                                <Setter TargetName="ButtonTextBlock" Property="Effect" Value="{x:Null}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>
    <Grid>
        <!-- Button with Image and Text -->
        <Button Style="{StaticResource PilotButtonStyle}" />
    </Grid>
</UserControl>